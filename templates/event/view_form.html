{% extends "allauth/layouts/main_base.html" %}
{% load i18n %}
{% load static %}
{% load markdownify %}
{% load allauth account %}
{% block head_title %}
{% trans "Profile" %}
{% endblock head_title %}
{% block stylesheet %}

<style>
    body {
        background-color: #0c1117;
        color: rgb(213, 211, 211);
        font-family: 'Arial', sans-serif;
        margin: 20px;
        padding: 0;
        line-height: 1.6;
    }

    h1 {
        text-align: center;
        color: white;
    }

    p {
        text-align: center;
        color: rgb(213, 211, 211);
        font-size: 1.1em;
    }

    ul {
        list-style: none;
        padding: 0;
    }



    img {
        max-width: 200px;
        height: auto;
        margin-top: 10px;
    }

    a {
        text-decoration: none;
        color: #299afd;
        font-weight: bold;
        margin-right: 10px;
        display: block;
        text-align: center;
        margin-top: 20px;
    }

    a:hover {
        text-decoration: underline;
        color: #a19f9f;
    }

    button {
        background-color: transparent;
        border: none;
        color: red;
        font-weight: bold;
        cursor: pointer;
        transition: color 0.3s ease;
    }

    button:hover {
        color: darkred;
    }

    a[href*="create_form"] {
        display: block;
        text-align: center;
        background-color: #1abc9c;
        color: #fff;
        padding: 10px 15px;
        border-radius: 5px;
        margin-top: 20px;
        font-weight: bold;
    }

    a[href*="create_form"]:hover {
        background-color: #16a085;
    }

    .questions-list {
        background-color: #1b1f26;
        border: 1px solid #a19f9f;
        border-radius: 5px;
        margin: 10px 0;
        padding: 15px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        display: flex;
        flex-direction: column;
        align-items: center;
        color: rgb(213, 211, 211);
    }
</style>
{% endblock stylesheet %}
{% block pages %}

<section class="section_profile">
    <div class="row" style="padding: 1rem;padding-top: 0;">
        <h1>{{ form.title }}</h1>
        <p>{{ form.description }}</p>

        <p>Submitted by: {{ form.created_by }}</p>
        <ul>
            {% for question in form.questions.all %}
                <li class = "questions-list">
                    <strong>Question:{{ question.text }}</strong> 
                    <strong>Type:{{ question.question_type }}</strong> 
                </li>
            {% endfor %}
            <a href="{% url 'event:view_forms' %}">Edit Form</a>
        </ul>
        <hr>
    
        {% for response in all_extraresponses %}
            <ul>
                <h1>{{ response.title }}</h1>
                <p>{{ response.description }}</p>
                {% for question in response.questions.all %}
                    <li class = "questions-list">
                        <strong>Question:{{ question.text }}</strong> 
                        <strong>Type:{{ question.question_type }}</strong> 
                    </li>
                {% endfor %}
                <a href="{% url 'event:view_forms' %}">Edit Form</a>
            </ul>
            <hr>
        {% endfor %}
        {% if registration %}
            <p>Invited Users</p>
                {% for invited_users in registration.invited_users.all %}
                    <li class = "questions-list" >
                        {{invited_users}}
                    </li>
                {% endfor %}
            <p>Accepted Users</p>
                {% for accepted_users in registration.accepted_users.all %}
                    <li class = "questions-list" >
                        {{accepted_users}}
                    </li>
                {% endfor %}
            <p>Rejected Users</p>
                {% for rejected_users in registration.rejected_users.all %}
                    <li class = "questions-list" >
                        {{rejected_users}}
                    </li>
                {% endfor %}
        {% endif %}

   


        <a href="{% url 'event:fill_form' form.id %}">{{ form.title }}</a> 
        <a href="{% url 'event:form_responses' form.id %}">View Submissions</a> 
        <a href="{% url 'event:add_questions' form.id %}">Add questions</a> 
        <a href="{% url 'event:edit_form_register' form.id %}">Edit Registration</a>
        <form action="{% url 'event:delete_form' form.id %}" method="post" >
            {% csrf_token %}
            <button type="submit" onclick="return confirm('Are you sure you want to delete this form?');" style="color: red;">Delete Form</button>
        </form>

    </div>
</section>

{% endblock pages %}

